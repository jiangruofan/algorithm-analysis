[Google | Onsite | Interview Questions](https://leetcode.com/discuss/interview-question/1570979/Google-or-Onsite-or-Interview-Questions)

Given a number and intervals, find all intervals having that number effectively. Imagine the method is being called thousands of times.  
Let's say we want to create a simplified version of Google Search. Here, we have many fixed intervals and we want to be able to quickly find all intervals containing a number.  
Follow up: What if new intervals can be added over the time.

离散的差分 每次查找就是使用二分定位

----------

[Google | SDE](https://leetcode.com/discuss/interview-question/767005/Google-or-SDE)

You have a sorted list of intervals (sorted by start time). There are two constraints:  
a. There are millions of intervals in this list.  
b. The total range covered by these intervals is also very large - more than 10^6

Question:

1.  How to find if '2' intervals are intersecting or conflicting. What is the time complexity of this algorithm
2.  How to find if 'k' intervals are intersecting or conflicting. 'k' intervals are conflicting if they have any element in the range that is common.

Example : [10-30], [15-35], [20-40], [25-30] and k = 3  
there is a conflict because at t=25 we have 4 intervals.

Approach suggested: find the min and max of the interval range and declare an array of this size. For each interval, mark the range (i.e increase it by 1). When incrementing the range if any value becomes more than 'k', it is a conflict.

Time complexity : O(n * |L|) - where |L| is the max interval size.

Interviewer was not satisfied with this response and wanted a better/efficient approach.

Any suggestions?

答案: If the intervals's end point are bounded by  `10^6`, we can solve the second (as well as the first question in  `O(n)`). Create an array of size  `10^6`  and for every interval  `[left, right]`, do  `a[left] += 1`  and  `a[right + 1] -= 1`. After that, you can convert it into a prefix sum array. Now, each values in this array represents the number of intervals convering a point. Hence, check If the array contains  `k`  or not.

Now, if the end point of the intervals are big, say  `10^18`, it can be done in  `O(n log(n))`.

_Hint_  : Simulate the same process above, but use a map instead of a fixed size array.

Relevant questions on LC are  **Minimum Number of Platforms**  and  **Merge Intervals**.

------------

[Google | SWE Intern (Winter)| India | Sep 2022 | Rejected](https://leetcode.com/discuss/interview-question/2557189/Google-or-SWE-Intern-%28Winter%29or-India-or-Sep-2022-or-Rejected)

```
You are given a series of intervals in the form of list of lists, and a target x. Your task is to return True if x lies in the interval, or False otherwise. 

Testcase 1:
Input:
[[1-3],[4-7],[9-21]], x = 15

Output:
True 

Explanation: 15 exists in interval [9-21]. 

[MAIN QUESTION]
Follow up after explaining the warmup question''s approach -
Instead of a single target x, you will be given a stream of queries (q), where
each query will have a target x. Return a boolean array ({True,False,True,...])
for given queries,True if they exist in one/more intervals, and False, if they do 
not exist in any of the given interval. 

Testcase 2:
Input:
[[1-3],[4-7],[9-21]], queries = [4,6,8,10,15]

Output - [True,True,False,True,True]

Explanation - 
Every query except 8, exists in the given intervals.

```

He clarified these after I asked some questions -  
**1. Intervals are non overlapping.  
2. They are sorted.  
3. You can assume there will be no negative intervals.**

**Required Time Complexity - O(log N)  
Required Space Complexity - O(1)**

Final follow up - What if the intervals were overlapping?

答案: 不覆盖可以使用二分, 覆盖的话必须使用差分

---------

[Google | Phone Screen | Interval and queries](https://leetcode.com/discuss/interview-question/1744097/Google-or-Phone-Screen-or-Interval-and-queries)

Found this problem to which, I could not find any simple solution. But thinking about the question found this very simple solution, hence sharing.

**Given a number and intervals, find all intervals having that number effectively. Imagine the method is being called thousands of times.**  
**Example Input**  
Intervals -> [{1, 10}, {8, 12}, {3, 5}, {15,20}]  
Queries -> [5, 10, 18]  
For query 1 -> 5 lies inside {1, 10} and {3, 5}, hence answer to this query is 2.  
Similarly for query 2 -> 10 lies inside {1, 10} and {8, 12}, hence answer to this query is 2.  
And for query 3 -> 18 lies inside {15, 20} only, hence answer to this query is 1.

答案:
先求出差分 然后二分查找即可

-----------




<!--stackedit_data:
eyJoaXN0b3J5IjpbMzU3MjkyMjUwLDE3OTQwNTQyODBdfQ==
-->